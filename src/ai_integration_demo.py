# ai_integration_demo.py

# استيراد الدالة الجديدة من ملف ta_corrector.py
from ta_corrector import apply_pragmatic_ta_rule 

def run_tests():
    """
    تشغيل أمثلة اختبارية لإثبات قاعدة التعيين البرغماتي (المعلوم/المجهول).
    """

    print("--- اختبار قاعدة التعيين البرغماتي الجديدة (المعلوم/المجهول) ---")
    print("الهدف: إثبات أن التاء المفتوحة (ت) تظهر عند وجود 'قرينة معلومة' فقط.")
    print("-" * 60)

    # 1. اختبار التعيين الواضح (المعلوم): الرحمة المخصصة بالقسمة الإلهية (ت)
    text1 = "أَهُمْ يَقْسِمُونَ رَحْمَتَ رَبِّكَ"
    result1 = apply_pragmatic_ta_rule(text1)
    
    print(f"النص الأصلي 1 (المعلوم): {text1}")
    print(f"النص المصحح: {result1}")
    print(f"النتيجة المتوقعة: رَحْمَتَ (تُعيَّن بفعل يَقْسِمُونَ)\n")


    # 2. اختبار العموم (المجهول): الرحمة العامة التي لا يعلم كُنهها المخاطب (ة)
    text2 = "إِنَّ رَحْمَةَ اللَّهِ قَرِيبٌ مِّنَ الْمُحْسِنِينَ"
    result2 = apply_pragmatic_ta_rule(text2)
    
    print(f"النص الأصلي 2 (المجهول): {text2}")
    print(f"النص المصحح: {result2}")
    print(f"النتيجة المتوقعة: رَحْمَةَ (تظل عامة دون تعيين دقيق)\n")


    # 3. اختبار التعيين بالعدّ (المعلوم): النعمة المحددة والقابلة للعدّ (ت)
    text3 = "وَإِن تَعُدُّوا نِعْمَتَ اللَّهِ لَا تُحْصُوهَا"
    result3 = apply_pragmatic_ta_rule(text3)
    
    print(f"النص الأصلي 3 (المعلوم): {text3}")
    print(f"النص المصحح: {result3}")
    print(f"النتيجة المتوقعة: نِعْمَتَ (تُعيَّن بفعل تَعُدُّوا)\n")

    
    # 4. اختبار التعيين بالعَلَم (المعلوم): المرأة المخصصة باسم عَلَم (ت)
    text4 = "فَضَرَبَ اللَّهُ مَثَلًا لِّلَّذِينَ كَفَرُوا امْرَأَتَ نُوحٍ"
    result4 = apply_pragmatic_ta_rule(text4)
    
    print(f"النص الأصلي 4 (المعلوم): {text4}")
    print(f"النص المصحح: {result4}")
    print(f"النتيجة المتوقعة: امْرَأَتَ (تُعيَّن بالاسم نُوحٍ)\n")
    
    
    # 5. اختبار كلمة خارج نطاق التناوب (للتأكد من عدم تدخل القاعدة)
    text5 = "اقيموا الصلاة"
    result5 = apply_pragmatic_ta_rule(text5)
    
    print(f"النص الأصلي 5 (خارج النطاق): {text5}")
    print(f"النص المصحح: {result5}")
    print(f"النتيجة المتوقعة: الصلاة (لا تتغير لأنها ليست من كلمات التناوب)\n")

    
if __name__ == "__main__":
    run_tests()
